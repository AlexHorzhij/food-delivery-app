"use strict";(self.webpackChunkfood_delivery_app=self.webpackChunkfood_delivery_app||[]).push([[635],{2635:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r=t(3433),a=t(9439),o=t(6148),i=t(890),s=t(6151),l=t(493),u=t(4852),d=t(9434),c=t(5129),p=t(9982),x=t(3400),f=t(2791),v=t(9617),h=t(184);function g(e){var n=e.text,t=e.children,r=f.useState(null),o=(0,a.Z)(r,2),s=o[0],l=o[1],u=function(){l(null)},d=Boolean(s);return(0,h.jsxs)("div",{children:[(0,h.jsx)(i.Z,{"aria-owns":d?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){l(e.currentTarget)},onMouseLeave:u,children:t}),(0,h.jsx)(v.ZP,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:d,anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:u,disableRestoreFocus:!0,children:(0,h.jsx)(i.Z,{sx:{p:1},children:n})})]})}var m=t(7247),Z=t(7621),j=t(2169),b=t(4554),y=t(9504),w=t(1962);function C(e){var n=e.data,t=(0,d.I0)();return(0,h.jsxs)(Z.Z,{sx:{display:"flex",p:2},children:[(0,h.jsx)(j.Z,{component:"img",sx:{width:300,height:200},image:n.url,alt:"food image"}),(0,h.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,h.jsx)(x.Z,{"aria-label":"delete",sx:{position:"absolute",top:10,right:18,opacity:.5},onClick:function(){return e=n.id,void t((0,p.Ww)(e));var e},children:(0,h.jsx)(g,{text:"delete",children:(0,h.jsx)(m.Z,{})})}),(0,h.jsxs)(y.Z,{sx:{flex:"1 0 auto"},children:[(0,h.jsx)(i.Z,{component:"div",variant:"h5",children:n.name}),(0,h.jsxs)(i.Z,{variant:"subtitle1",color:"text.secondary",component:"div",children:[n.price," UAH"]})]}),(0,h.jsx)(w.Z,{type:"number",style:{marginLeft:"16px"},onChange:function(e){t((0,p.fe)({id:n.id,count:e.target.value}))},defaultValue:1}),(0,h.jsx)(b.Z,{sx:{display:"flex",alignItems:"center",pl:1,pb:1}})]})]})}function S(){var e=(0,d.v9)(c.QN);return(0,h.jsx)(l.Z,{sx:{height:"100%",width:"570px",bgcolor:"background.paper",overflowY:"auto",border:1,borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:3,padding:1},children:e.length>0?e.map((function(e){return(0,h.jsx)(u.ZP,{children:(0,h.jsx)(C,{data:e})},e.id)})):(0,h.jsx)(i.Z,{variant:"h4",sx:{textAlign:"center",mt:10},children:"You don`t have any orders now."})})}var I,k=t(168),T=t(225),A=(0,T.Z)(b.Z)(I||(I=(0,k.Z)(["\n  flex-grow: 1;\n  padding: 20px 50px;\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  margin-right: 30px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n"]))),R=t(7993),z={width:"100%",height:"300px"},E={lat:-3.745,lng:-38.523};function L(){var e=(0,R.Ji)({id:"google-map-script",googleMapsApiKey:""}).isLoaded,n=(0,f.useState)(null),t=(0,a.Z)(n,2),r=(t[0],t[1]),o=(0,f.useCallback)((function(e){var n=new window.google.maps.LatLngBounds(E);e.fitBounds(n),r(e)}),[]),i=(0,f.useCallback)((function(e){r(null)}),[]);return e?(0,h.jsxs)(R.b6,{mapContainerStyle:z,center:E,zoom:10,onLoad:o,onUnmount:i,disableDefaultUI:!1,children:[(0,h.jsx)(R.Jx,{position:E}),(0,h.jsx)(h.Fragment,{})]}):(0,h.jsx)(h.Fragment,{})}var N,D,P,W=(0,f.memo)(L),X=function(e){return{message:"Field can't be empty",result:!!e}},_=function(e){return{message:"Wrong email",result:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e)}};function B(e){var n=e.setName,t=e.setEmail,r=e.setPhone,a=e.setAddress,i=e.data,s=e.addToInput;return(0,h.jsxs)(A,{component:"form",children:[(0,h.jsx)(W,{}),(0,h.jsx)(o.X,{error:!0,validationRules:[X],id:"name",label:"Name",variant:"outlined",value:i.name,onChange:function(e){return n(e.target.value)},addToInput:s}),(0,h.jsx)(o.X,{error:!0,validationRules:[X,_],id:"email",label:"Email",variant:"outlined",value:i.email,onChange:function(e){return t(e.target.value)},addToInput:s}),(0,h.jsx)(o.X,{error:!0,validationRules:[X],id:"phone",label:"Phone",variant:"outlined",value:i.phone,onChange:function(e){return r(e.target.value)},addToInput:s}),(0,h.jsx)(o.X,{error:!0,validationRules:[X],id:"address",label:"Address",variant:"outlined",value:i.address,onChange:function(e){return a(e.target.value)},addToInput:s})]})}var F=T.Z.div(N||(N=(0,k.Z)(["\n  display: flex;\n  height: 700px;\n  justify-content: space-between;\n  gap: 40px;\n  margin-bottom: 20px;\n"]))),M=T.Z.div(D||(D=(0,k.Z)(["\n  display: flex;\n  justify-content: flex-end;\n"]))),Q=(T.Z.div(P||(P=(0,k.Z)(["\n  overflow-y: auto;\n  padding: 10px 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  border: 1px solid black;\n"]))),t(4261)),U=t(9268);function J(){var e=(0,f.useState)(""),n=(0,a.Z)(e,2),t=n[0],l=n[1],u=(0,f.useState)(""),p=(0,a.Z)(u,2),x=p[0],v=p[1],g=(0,f.useState)(""),m=(0,a.Z)(g,2),Z=m[0],j=m[1],b=(0,f.useState)(""),y=(0,a.Z)(b,2),w=y[0],C=y[1],I=(0,f.useState)([]),k=(0,a.Z)(I,2),T=k[0],A=k[1];console.log("inputs: ",T);var R=(0,d.I0)(),z=(0,d.v9)(c.QN),E=(0,d.v9)(c.ij),L={id:(0,Q.Z)(),shopData:{shopName:null===E||void 0===E?void 0:E.name,shopId:null===E||void 0===E?void 0:E.id},orders:z,userData:{name:t,email:x,phone:Z,address:w}};return(0,h.jsx)(o.or,{children:(0,h.jsxs)(o.W2,{children:[(0,h.jsxs)(F,{children:[(0,h.jsx)(B,{setName:l,setEmail:v,setPhone:j,setAddress:C,data:L.userData,addToInput:function(e){e&&A((function(n){return-1!==(null===n||void 0===n?void 0:n.findIndex((function(n){return n.name===e.name})))?n:[].concat((0,r.Z)(n),[e])}))}}),(0,h.jsx)(S,{})]}),(0,h.jsxs)(M,{children:[(0,h.jsxs)(i.Z,{component:"p",variant:"h5",style:{marginRight:"30px"},children:["Total price: ",z.reduce((function(e,n){return e+n.price*n.count}),0)]}),(0,h.jsx)(s.Z,{type:"submit",sx:{fontSize:16},variant:z.length>0?"contained":"disabled",onClick:function(){T.reduce((function(e,n){return n.validate()}),!0)&&(R((0,U.m)(L)),l(""),v(""),j(""),C(""))},children:"Submit"})]})]})})}},5129:function(e,n,t){t.d(n,{QN:function(){return r},ij:function(){return o},pK:function(){return a}});var r=function(e){return e.shops.orders},a=function(e){return e.shops.shopsList},o=function(e){return e.shops.currentShop}},6148:function(e,n,t){t.d(n,{W2:function(){return i.W},X:function(){return c},or:function(){return o}});var r,a=t(168),o=t(225).Z.main(r||(r=(0,a.Z)(["\n  height: 100%;\n  padding-top: 20px;\n"]))),i=t(5800),s=t(9439),l=t(1962),u=t(2791),d=t(184);function c(e){var n=e.addToInput,t=(0,u.useState)(""),r=(0,s.Z)(t,2),a=r[0],o=r[1],i=(0,u.useState)(!1),c=(0,s.Z)(i,2),p=c[0],x=c[1],f=(0,u.useState)(""),v=(0,s.Z)(f,2),h=v[0],g=v[1],m=(0,u.useRef)();m.name=e.label;var Z=function(){return e.validationRules.every((function(e){var n=e(a),t=n.result,r=n.message;return x(!t),g(r),t}))};m.validate=Z,(0,u.useEffect)((function(){n(null),n&&n(m)}),[]);return(0,d.jsx)(l.Z,{ref:m,error:p,helperText:p&&h,id:e.id,label:e.label,variant:e.variant,value:a,onChange:function(e){o(e.target.value)},onBlur:Z})}}}]);
//# sourceMappingURL=635.6915b8c3.chunk.js.map